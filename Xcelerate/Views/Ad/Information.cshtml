@model AdInformationViewModel

<link rel="stylesheet" href="~/css/Ad/Information.css" asp-append-version="true" />

<section class="card-holder" asp-action="Information">

	<article class="hostel-home-card">
		<div class="image-holder">
			@{
				int currentIndex = 0;
			}
			<img src="~/Images/Ad/@Model.ImageUrls[currentIndex]" alt="First image of the car ad" id="carImage" class="image-transition" fade />
		</div>
		<a class="prev" onclick="changeImage(-1)">&#10094;</a>
		<a class="next" onclick="changeImage(1)">&#10095;</a>
		<h2 class="article-title">@Model.Brand @Model.Model</h2>
		<div class="card-text">
			<ul class="list-information-car">
				<strong class="price-information">Price: @Model.Price$</strong>
				<form asp-area="" asp-controller="Ad" asp-action="Buy" asp-route-carId="@Model.CarId" method="post">
					<button type="submit" class="buy-button">BUY</button>
				</form>
				<div class="car-information">
				<li><strong>Year:</strong> @Model.Year</li>
				<li><strong>Engine:</strong> @Model.Engine</li>
				<li><strong>HorsePower:</strong> @Model.HorsePower</li>
				<li><strong>Condition:</strong> @Model.Condition</li>
				<li><strong>Euro Standard:</strong> @Model.EuroStandard</li>
				<li><strong>Fuel Type:</strong> @Model.FuelType</li>
				<li><strong>Colour:</strong> @Model.Colour</li>
				<li><strong>Transmission:</strong> @Model.Transmition</li>
				<li><strong>Drive Train:</strong> @Model.DriveTrain</li>
				<li><strong>Weight:</strong> @Model.Weight KG</li>
				<li><strong>Mileage:</strong> @Model.Mileage KM</li>
				<li><strong>Body Type:</strong> @Model.BodyType</li>
				<li><strong>Manufacturer:</strong> @Model.Manufacturer</li>
				<li><strong>Country:</strong> @Model.Address.CountryName</li>
				<li><strong>Town:</strong> @Model.Address.TownName</li>
				<li><strong>Street:</strong> @Model.Address.StreetName</li>
				<li><strong>Owner:</strong> @Model.FirstName @Model.LastName</li>
				<li><strong>Created On:</strong> @Model.CreatedOn</li>
				<!-- Include necessary properties from Address, Ad, and User entities -->
		</div>
		</ul>
		<section>
			<h2 class="article-title">Accessories</h2>
			<button class="toggle-accessories-button" onclick="toggleAccessories()">Show More</button>


			<ul class="list-information-car-accessories">
					@{
						foreach (var accessory in Model.Accessories)
						{
						<li>
							<strong>@accessory.Name</strong>
						</li>
						}
					}
			</ul>

		</section>
		<section>
			<h2 class="article-title">Description</h2>
			<p>@Model.CarDescription</p>
		</section>
		</div>
	</article>

</section>


@functions
{
	void DisplayAccessoryProperty(string propertyName, bool propertyValue)
	{
		<li>
			<strong>@propertyName</strong>: @(propertyValue ? "Yes" : "No")
		</li>
	}
}

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
	<script src="~/js/Ad/Ad.js" asp-append-version="true"></script>
	<script>
		var currentIndex = 0;
		var imageUrls = @Html.Raw(Json.Serialize(Model.ImageUrls));

		function changeImage(step) {
			currentIndex += step;

			if (currentIndex < 0) {
				currentIndex = imageUrls.length - 1;
			} else if (currentIndex >= imageUrls.length) {
				currentIndex = 0;
			}

			var imageUrl = '@Url.Content("~/Images/Ad/")' + imageUrls[currentIndex];
			$("#carImage").fadeTo(200, 0, function () {
				$(this).attr("src", imageUrl).fadeTo(200, 1);
			});
		}
	</script>
}